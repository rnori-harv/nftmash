{"ast":null,"code":"var _jsxFileName = \"/Users/rakeshnori/Desktop/nftmash/src/components/CommentList.js\";\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport { useEffect, useState } from 'react';\nimport { DataStore } from '@aws-amplify/datastore';\nimport { Caption } from '../models';\nimport { Box, Image, Flex, Avatar, Text, Spacer, IconButton } from '@chakra-ui/react';\nimport { ChatIcon, ArrowUpIcon, ArrowDownIcon } from '@chakra-ui/icons';\nimport { render } from 'react-dom';\nimport { Comment } from './Comment';\n\nfunction doLike(comment) {\n  DataStore.save(Caption.copyOf(comment, updated => {\n    updated.likes = updated.likes + 1;\n  }));\n}\n\nfunction doDislike(comment) {\n  DataStore.save(Caption.copyOf(comment, updated => {\n    updated.likes = updated.likes - 1;\n  }));\n}\n\nexport function CommentList({\n  postId\n}) {\n  const [clicked, setClicked] = useState(false);\n\n  const onClick = comment => {\n    if (!clicked) {\n      setClicked(true);\n      doLike(comment);\n    }\n  };\n\n  const onClick2 = comment => {\n    if (!clicked) {\n      setClicked(true);\n      doDislike(comment);\n    }\n  };\n\n  const [comments, setComments] = useState([]);\n  useEffect(() => {\n    const getComments = async () => {\n      const postComments = await DataStore.query(Caption, p => p.candidateID === postId);\n      const actualPostComments = [];\n\n      for (var i = 0; i < postComments.length; i++) {\n        if (postComments[i].candidateID === postId) {\n          actualPostComments.push(postComments[i]);\n        }\n      }\n\n      actualPostComments.sort((a, b) => a.likes < b.likes ? 1 : -1);\n      setComments(actualPostComments);\n    };\n\n    getComments();\n  }, []);\n  const [likes, setLikes] = useState([]);\n  return /*#__PURE__*/React.createElement(Box, {\n    ml: 3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 9\n    }\n  }, comments.map(myComment => /*#__PURE__*/React.createElement(Comment, {\n    comment: myComment,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 40\n    }\n  })));\n}","map":{"version":3,"sources":["/Users/rakeshnori/Desktop/nftmash/src/components/CommentList.js"],"names":["React","ReactDOM","useEffect","useState","DataStore","Caption","Box","Image","Flex","Avatar","Text","Spacer","IconButton","ChatIcon","ArrowUpIcon","ArrowDownIcon","render","Comment","doLike","comment","save","copyOf","updated","likes","doDislike","CommentList","postId","clicked","setClicked","onClick","onClick2","comments","setComments","getComments","postComments","query","p","candidateID","actualPostComments","i","length","push","sort","a","b","setLikes","map","myComment"],"mappings":"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","sourcesContent":["import React from 'react'\nimport ReactDOM from 'react-dom'\nimport { useEffect, useState} from 'react'\nimport {DataStore} from '@aws-amplify/datastore'\nimport {Caption} from '../models'\nimport { Box, Image, Flex, Avatar, Text, Spacer, IconButton } from '@chakra-ui/react'\nimport { ChatIcon, ArrowUpIcon, ArrowDownIcon} from '@chakra-ui/icons'\nimport { render } from 'react-dom'\nimport {Comment} from './Comment'\n\n\nfunction doLike(comment){\n    DataStore.save(\n        Caption.copyOf(comment, updated => {\n          updated.likes = updated.likes + 1;}))\n\n}\n\nfunction doDislike(comment){\n    DataStore.save(\n        Caption.copyOf(comment, updated => {\n          updated.likes = updated.likes - 1;}))\n\n}\n\n\nexport function CommentList({ postId }) {\n    const [clicked, setClicked] = useState(false);\n    const onClick = (comment) => {\n        if (!clicked) {\n          setClicked(true);\n          doLike(comment);\n        }\n      };\n\n      const onClick2 = (comment) => {\n        if (!clicked) {\n          setClicked(true);\n          doDislike(comment);\n        }\n      };\n    const [comments, setComments] = useState([])\n    useEffect(() => {\n        const getComments = async() => {\n            const postComments = await DataStore.query(Caption, p => p.candidateID === postId)\n            const actualPostComments = []\n            for (var i = 0; i < postComments.length; i++) {\n                 if (postComments[i].candidateID === postId){\n                     actualPostComments.push(postComments[i])\n                 }\n            }\n            actualPostComments.sort((a, b) => (a.likes < b.likes) ? 1 : -1)\n            setComments(actualPostComments)\n        }\n        getComments()\n    }, [])\n    const [likes, setLikes] = useState([])\n    return (\n        <Box ml={3}>\n            {comments.map(myComment => <Comment comment = {myComment}/>)}\n        </Box>\n    )\n}"]},"metadata":{},"sourceType":"module"}